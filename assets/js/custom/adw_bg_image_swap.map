{"version":3,"sources":["file:///adw_bg_image_swap.js","file:///webpack/bootstrap 8569b9e3e1844f5bd89b","file:///C:\\xampp\\htdocs\\adw_fedev\\src\\js\\adw_lib\\typescript-source\\modules\\adw-background-image-swap\\index.ts","file:///C:\\xampp\\htdocs\\adw_fedev\\src\\js\\adw_lib\\typescript-source\\modules\\Main.ts","file:///C:\\xampp\\htdocs\\adw_fedev\\src\\js\\adw_lib\\typescript-source\\modules\\adw-background-image-swap\\modules\\ADWBGImageSwap.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","value","Main_1","ADWBGImageSwap_1","document","addEventListener","_esModules","querySelectorAll","Main","ADWBGImageSwap","init","imports","this","_modulesLoaded","_imports","getModulesOnPage","options","_modules","length","getAttribute","k","push","instantiateModules","modulesOnPage","loaded","create","$index","g","indexOf","JSON","parse","_length","modulesLoaded","_bgImages","_selectors","giveElementsID","setAttribute","parseElements","this_1","str","trim","arr","split","map","x","_a","createStyles","j","qselector","query","url","rule","_styles","sheet","insertRule","createStyleSheet","createElement","appendChild","createTextNode","head"],"mappings":"CAAS,SAAUA,GCInB,QAAAC,GAAAC,GAGA,GAAAC,EAAAD,GACA,MAAAC,GAAAD,GAAAE,OAGA,IAAAC,GAAAF,EAAAD,IACAI,EAAAJ,EACAK,GAAA,EACAH,WAUA,OANAJ,GAAAE,GAAAM,KAAAH,EAAAD,QAAAC,IAAAD,QAAAH,GAGAI,EAAAE,GAAA,EAGAF,EAAAD,QAvBA,GAAAD,KA4BAF,GAAAQ,EAAAT,EAGAC,EAAAS,EAAAP,EAGAF,EAAAU,EAAA,SAAAP,EAAAQ,EAAAC,GACAZ,EAAAa,EAAAV,EAAAQ,IACAG,OAAAC,eAAAZ,EAAAQ,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAZ,EAAAmB,EAAA,SAAAf,GACA,GAAAQ,GAAAR,KAAAgB,WACA,WAA2B,MAAAhB,GAAA,SAC3B,WAAiC,MAAAA,GAEjC,OADAJ,GAAAU,EAAAE,EAAA,IAAAA,GACAA,GAIAZ,EAAAa,EAAA,SAAAQ,EAAAC,GAAsD,MAAAR,QAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDtB,EAAAyB,EAAA,sDAGAzB,IAAA0B,EAAA,KDMM,SAAUtB,EAAQD,EAASH,GAEjCI,EAAOD,QAAUH,EAAoB,IAK/B,SAAUI,EAAQD,EAASH,GAEjC,YAYAc,QAAOC,eAAeZ,EAAS,cAAgBwB,OAAO,GE7EtD,IAAAC,GAAA5B,EAAA,GACA6B,EAAA7B,EAAA,EAEA8B,UAASC,iBAAiB,mBAAoB,WAC5C,GAAMC,GAAaF,SAASG,iBAAiB,aAEnB,IAAIL,GAAAM,MAAML,EAAAM,gBAAiBH,GAEnCI,UFiFd,SAAUhC,EAAQD,EAASH,GAEjC,YAEAc,QAAOC,eAAeZ,EAAS,cAAgBwB,OAAO,GG9FtD,IAAAO,GAAA,WAKE,QAAAA,GAAYG,EAActC,GAHlBuC,KAAAC,kBAIND,KAAKE,SAAWH,EAChBC,KAAKN,WAAajC,EAiEtB,MA9DUmC,GAAAX,UAAAkB,iBAAR,SAAyB1C,GACvB,GACA2C,GACAtC,EAFMuC,IAIN,IAAIL,KAAKN,WAAWY,OAAS,EAC3B,IAAK,GAAIvC,GAAY,EAAGA,EAAIiC,KAAKN,WAAWY,OAAQvC,IAAK,CACvDD,EAASkC,KAAKN,WAAW3B,GAAGwC,aAAa,eACzCH,EAAUJ,KAAKN,WAAW3B,GAAGwC,aAAa,sBAE1C,KAAK,GAAIC,GAAI,EAAGA,EAAIR,KAAKE,SAASI,OAAQE,IACpC/C,EAAQ+C,GAAGvB,UAAUZ,SAAWP,GAClCuC,EAASI,MAAM3C,EAAQsC,IAK/B,MAAOC,IAMDT,EAAAX,UAAAyB,mBAAR,SAA2BjD,GAMzB,IAAK,GAJLK,GACAO,EAFIsC,EAAgBX,KAAKG,iBAAiB1C,GAG1CmD,KAES7C,EAAY,EAAGA,EAAIN,EAAQ6C,OAAQvC,IAAK,CAE/CM,EAAOG,OAAOqC,OAAOpD,EAAQM,IAAIkB,UAAUZ,MAG3C,KAAK,GADDyC,OAAM,GACDC,EAAY,EAAGA,EAAIJ,EAAcL,OAAQS,IAC5C1C,IAASsC,EAAcI,GAAG,KAC5BD,EAASC,GAGTD,GAAU,IAAyC,IAApCF,EAAOI,QAAQ3C,EAAO,IAAM0C,KAE7CjD,EAAS,GAAIL,GAAQM,GAAGkD,KAAKC,MAAMP,EAAcG,GAAQ,KACzDhD,EAAOgC,OACPc,EAAOH,KAAKpC,GACZ2B,KAAKC,eAAe5B,EAAO,IAAM0C,GAAKjD,GAI1CkC,KAAKC,eAAekB,QAAUP,EAAON,QAKhCV,EAAAX,UAAAmC,cAAP,WACE,MAAOpB,MAAKC,gBAKPL,EAAAX,UAAAa,KAAP,WACEE,KAAKU,mBAAmBV,KAAKE,WAEjCN,IAxEa/B,GAAA+B,QH2KP,SAAU9B,EAAQD,EAASH,GAEjC,YAmBAc,QAAOC,eAAeZ,EAAS,cAAgBwB,OAAO,GIvLtD,IAAAQ,GAAA,WAKE,QAAAA,KAJQG,KAAAqB,UAAiC7B,SAASG,iBAAiB,0BAE3DK,KAAAsB,cAqFV,MA3EUzB,GAAAZ,UAAAsC,eAAR,WACE,IAAK,GAAIxD,GAAI,EAAGA,EAAIiC,KAAKqB,UAAUf,OAAQvC,IACzCiC,KAAKqB,UAAUtD,GAAGyD,aAAa,KAAM,yBAA2BzD,EAElEiC,MAAKyB,iBASC5B,EAAAZ,UAAAwC,cAAR,WACE,IAAK,GJgMGC,GAAS1B,KIhMRjC,EAAI,EAAGA,EAAIiC,KAAKqB,UAAUf,OAAQvC,KJsLzB,SItLTA,GACP,GAAuD,OAAnD2D,EAAKL,UAAUtD,GAAGwC,aAAa,gBAA0B,CAE7D,GAAIoB,GAAMD,EAAKL,UAAUtD,GAAGwC,aAAa,gBAAgBqB,OACrDC,EAAMF,EAAIG,MAAM,KACfC,IAAI,SAAAC,GJqLK,GAAIC,EIpLZ,OAAAA,MAAQA,EAAC,yBAA2BlE,GAAKiE,EAAEJ,OAAOE,MAAM,KAAIG,GAE9DP,GAAKJ,WAAWb,KAAKoB,KARlB9D,EAWTiC,MAAKkC,gBAOCrC,EAAAZ,UAAAiD,aAAR,WACE,IAAK,GAAIC,GAAI,EAAGA,EAAInC,KAAKsB,WAAWhB,OAAQ6B,IAC1C,IAAK,GAAIpE,GAAI,EAAIA,EAAIiC,KAAKsB,WAAWa,GAAG7B,OAAQvC,IAAK,CAErD,GAAIqE,GAAYpC,KAAKsB,WAAWa,GAAGpE,GAAG,yBAA2BoE,GAAG,GAChEE,EAAQ,UAAYD,EACpBE,EAAMtC,KAAKsB,WAAWa,GAAGpE,GAAG,yBAA2BoE,GAAG,GAC1DI,EAAO,0BAA4BJ,EAAI,2BAA6BG,EAAM,MAE9EtC,MAAKwC,QAAQC,MAAMC,WAAYL,EAAQ,MAAQE,EAAO,MAAOxE,KAUzD8B,EAAAZ,UAAA0D,iBAAR,WACE3C,KAAKwC,QAAUhD,SAASoD,cAAc,SACtC5C,KAAKwC,QAAQK,YAAYrD,SAASsD,eAAe,KAEjDtD,SAASuD,KAAKF,YAAY7C,KAAKwC,UAO1B3C,EAAAZ,UAAAZ,KAAP,WACE,MAAO,kBAOFwB,EAAAZ,UAAAa,KAAP,WACEE,KAAK2C,mBACL3C,KAAKuB,kBAGT1B,IAxFahC,GAAAgC","file":"adw_bg_image_swap.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://greene.local/themes/greene/assets/js/custom/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n * ******************************************************************************************************\r\n *\r\n *  Index or starting point for ES Modules\r\n *\r\n *  @author  Chip\r\n *  @date    Wed Feb 14 10:34:46 EST 2018\r\n *\r\n * ******************************************************************************************************\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Main_1 = __webpack_require__(2);\r\nvar ADWBGImageSwap_1 = __webpack_require__(3);\r\ndocument.addEventListener(\"DOMContentLoaded\", function () {\r\n    var _esModules = document.querySelectorAll(\".es-module\");\r\n    var adw_bg_image_swap = new Main_1.Main([ADWBGImageSwap_1.ADWBGImageSwap], _esModules);\r\n    adw_bg_image_swap.init();\r\n});\r\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n/**\r\n * ******************************************************************************************************\r\n *\r\n *  Defines a Main\r\n *\r\n *  @author Chip Moeser\r\n *  @date  Fri Sep 22 15:37:07 EDT 2017\r\n *\r\n * ******************************************************************************************************\r\n */\r\nvar Main = /** @class */ (function () {\r\n    function Main(imports, modules) {\r\n        this._modulesLoaded = {};\r\n        this._imports = imports;\r\n        this._esModules = modules;\r\n    }\r\n    Main.prototype.getModulesOnPage = function (modules) {\r\n        var _modules = [], options, module;\r\n        if (this._esModules.length > 0) {\r\n            for (var i = 0; i < this._esModules.length; i++) {\r\n                module = this._esModules[i].getAttribute('data-module');\r\n                options = this._esModules[i].getAttribute('data-module-options');\r\n                for (var k = 0; k < this._imports.length; k++) {\r\n                    if (modules[k].prototype.name() === module) {\r\n                        _modules.push([module, options]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return _modules;\r\n    };\r\n    ;\r\n    /**\r\n    * this._instantiateModules\r\n    * @param {object} modules [event object]\r\n    */\r\n    Main.prototype.instantiateModules = function (modules) {\r\n        var modulesOnPage = this.getModulesOnPage(modules), module, name, loaded = [];\r\n        for (var i = 0; i < modules.length; i++) {\r\n            name = Object.create(modules[i]).prototype.name();\r\n            var $index = void 0;\r\n            for (var g = 0; g < modulesOnPage.length; g++) {\r\n                if (name === modulesOnPage[g][0]) {\r\n                    $index = g;\r\n                }\r\n                if ($index > -1 && loaded.indexOf(name + '-' + g) === -1) {\r\n                    // module = new modules[i];\r\n                    module = new modules[i](JSON.parse(modulesOnPage[$index][1])); // init module. Pass in any params.\r\n                    module.init();\r\n                    loaded.push(name);\r\n                    this._modulesLoaded[name + '-' + g] = module;\r\n                }\r\n            }\r\n        }\r\n        this._modulesLoaded._length = loaded.length;\r\n    };\r\n    ;\r\n    /**\r\n    *  modulesLoade\r\n    */\r\n    Main.prototype.modulesLoaded = function () {\r\n        return this._modulesLoaded;\r\n    };\r\n    /**\r\n    *  init\r\n    */\r\n    Main.prototype.init = function () {\r\n        this.instantiateModules(this._imports);\r\n    };\r\n    return Main;\r\n}());\r\nexports.Main = Main;\r\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\r\n/**\r\n *  ADWBGImageSwap.\r\n *  @desc Defines a ADWBGImageSwap. Class for dynamically creating styles for background images\r\n *\r\n *  @author Chip Moeser\r\n *\r\n *  @date Fri Dec 1 05:29:06 EST 2017\r\n *\r\n *  @version 1.0.0\r\n *\r\n *  @access private\r\n *\r\n *\r\n *  @example\r\n *\r\n *\r\n */\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar ADWBGImageSwap = /** @class */ (function () {\r\n    function ADWBGImageSwap() {\r\n        this._bgImages = document.querySelectorAll('.background-image-swap');\r\n        this._selectors = []; // TODO TYPE\r\n        // console.log(\"New Image Swap\");\r\n    }\r\n    /**\r\n      *  @desc giveElementsID. Give the element a id so it can be assigned a style\r\n    *  @access private\r\n    *  @return void\r\n      */\r\n    ADWBGImageSwap.prototype.giveElementsID = function () {\r\n        for (var i = 0; i < this._bgImages.length; i++) {\r\n            this._bgImages[i].setAttribute('id', 'background-image-swap-' + i);\r\n        }\r\n        this.parseElements();\r\n    };\r\n    /**\r\n       *  @desc parseElements. Parses page elemetns with the class .background-image-swap\r\n     *   and puts their bg image paths and associated media queries into a array of objects\r\n     *   which are later iterated over for creating styles dynamically\r\n     *  @access private\r\n     *  @return void\r\n      */\r\n    ADWBGImageSwap.prototype.parseElements = function () {\r\n        var _loop_1 = function (i) {\r\n            if (this_1._bgImages[i].getAttribute('data-src-set') !== null) {\r\n                var str = this_1._bgImages[i].getAttribute('data-src-set').trim(), arr = str.split('|')\r\n                    .map(function (x) {\r\n                    var _a;\r\n                    return _a = {}, _a['background-image-swap-' + i] = x.trim().split(','), _a;\r\n                });\r\n                this_1._selectors.push(arr);\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < this._bgImages.length; i++) {\r\n            _loop_1(i);\r\n        }\r\n        this.createStyles();\r\n    };\r\n    /**\r\n      *  @desc createStyles. Iterate over the selectors and create associated media query styles\r\n    *  @access private\r\n    *  @return void\r\n      */\r\n    ADWBGImageSwap.prototype.createStyles = function () {\r\n        for (var j = 0; j < this._selectors.length; j++) {\r\n            for (var i = 0; i < this._selectors[j].length; i++) {\r\n                var qselector = this._selectors[j][i]['background-image-swap-' + j][1], query = '@media ' + qselector + '', url = this._selectors[j][i]['background-image-swap-' + j][0], rule = \"#background-image-swap-\" + j + \" { background-image:url(\" + url + \"); }\";\r\n                this._styles.sheet.insertRule(query + \" { \" + rule + \" } \", i);\r\n            }\r\n        }\r\n        // console.log(this._styles.sheet.rules);\r\n    };\r\n    /**\r\n      *  @desc createStyleSheet. Creates a stylesheet for adding rules dynamically\r\n    *  @access private\r\n    *  @return string\r\n      */\r\n    ADWBGImageSwap.prototype.createStyleSheet = function () {\r\n        this._styles = document.createElement(\"style\");\r\n        this._styles.appendChild(document.createTextNode(\"\")); // WebKit hack\r\n        document.head.appendChild(this._styles);\r\n    };\r\n    /**\r\n      *  @desc name. Returns the string name of this module. Used by Main.ts to process modules on page.\r\n    *  @access private\r\n    *  @return string\r\n      */\r\n    ADWBGImageSwap.prototype.name = function () {\r\n        return \"ADWBGImageSwap\";\r\n    };\r\n    /**\r\n      *  @desc init. Invokes initial functions after this module has been instantiated.\r\n    *  @access private\r\n    *  @return Void\r\n      */\r\n    ADWBGImageSwap.prototype.init = function () {\r\n        this.createStyleSheet();\r\n        this.giveElementsID();\r\n    };\r\n    return ADWBGImageSwap;\r\n}());\r\nexports.ADWBGImageSwap = ADWBGImageSwap;\r\n\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// adw_bg_image_swap.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://greene.local/themes/greene/assets/js/custom/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8569b9e3e1844f5bd89b","/**\r\n * ******************************************************************************************************\r\n *\r\n *  Index or starting point for ES Modules\r\n *\r\n *  @author  Chip\r\n *  @date    Wed Feb 14 10:34:46 EST 2018\r\n *\r\n * ******************************************************************************************************\r\n */\r\n\r\nimport { Main } from \"../Main\";\r\nimport { ADWBGImageSwap } from \"./modules/ADWBGImageSwap\";\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  const _esModules = document.querySelectorAll(\".es-module\");\r\n\r\n  const adw_bg_image_swap = new Main([ADWBGImageSwap], _esModules);\r\n\r\n  adw_bg_image_swap.init();\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// C:/xampp/htdocs/adw_fedev/node_modules/source-map-loader!./index.ts","/**\r\n * ******************************************************************************************************\r\n *\r\n *  Defines a Main\r\n *\r\n *  @author Chip Moeser\r\n *  @date  Fri Sep 22 15:37:07 EDT 2017\r\n *\r\n * ******************************************************************************************************\r\n */\r\nexport class Main {\r\n  private _imports: any;\r\n  private _modulesLoaded: any = {};\r\n  private _esModules: any;\r\n\r\n  constructor(imports: any, modules: any) {\r\n    this._imports = imports;\r\n    this._esModules = modules;\r\n  }\r\n\r\n  private getModulesOnPage(modules: any) {\r\n    let   _modules = [],\r\n    options,\r\n    module;\r\n\r\n    if (this._esModules.length > 0) {\r\n      for (let i: number = 0; i < this._esModules.length; i++) {\r\n        module = this._esModules[i].getAttribute('data-module');\r\n        options = this._esModules[i].getAttribute('data-module-options');\r\n\r\n        for (let k = 0; k < this._imports.length; k++) {\r\n          if (modules[k].prototype.name() === module) {\r\n            _modules.push([module, options]);\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return _modules;\r\n  };\r\n  /**\r\n  * this._instantiateModules\r\n  * @param {object} modules [event object]\r\n  */\r\n  private instantiateModules(modules: any): void {\r\n    let modulesOnPage = this.getModulesOnPage(modules),\r\n    module,\r\n    name,\r\n    loaded = [];\r\n\r\n    for (let i: number = 0; i < modules.length; i++) {\r\n\r\n      name = Object.create(modules[i]).prototype.name();\r\n\r\n      let $index;\r\n      for (let g: number = 0; g < modulesOnPage.length; g++) {\r\n        if (name === modulesOnPage[g][0]) {\r\n          $index = g;\r\n        }\r\n\r\n      if ($index > -1 && loaded.indexOf(name + '-' + g) === -1) {\r\n        // module = new modules[i];\r\n        module = new modules[i](JSON.parse(modulesOnPage[$index][1])); // init module. Pass in any params.\r\n        module.init();\r\n        loaded.push(name);\r\n        this._modulesLoaded[name + '-' + g] = module;\r\n      }\r\n      }\r\n    }\r\n    this._modulesLoaded._length = loaded.length;\r\n  };\r\n  /**\r\n  *  modulesLoade\r\n  */\r\n  public modulesLoaded(): void {\r\n    return this._modulesLoaded;\r\n  }\r\n  /**\r\n  *  init\r\n  */\r\n  public init(): void {\r\n    this.instantiateModules(this._imports);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/xampp/htdocs/adw_fedev/node_modules/source-map-loader!../Main.ts","\r\n/**\r\n *  ADWBGImageSwap.\r\n *  @desc Defines a ADWBGImageSwap. Class for dynamically creating styles for background images\r\n *\r\n *  @author Chip Moeser\r\n *\r\n *  @date Fri Dec 1 05:29:06 EST 2017\r\n *\r\n *  @version 1.0.0\r\n *\r\n *  @access private\r\n *\r\n *\r\n *  @example\r\n *\r\n *\r\n */\r\n\r\nexport class ADWBGImageSwap {\r\n  private _bgImages: NodeListOf<Element> = document.querySelectorAll('.background-image-swap');\r\n  private _styles: any; // TODO TYPE\r\n  private _selectors: Array<any> = []; // TODO TYPE\r\n\r\n  constructor() {\r\n    // console.log(\"New Image Swap\");\r\n  }\r\n  /**\r\n\t*  @desc giveElementsID. Give the element a id so it can be assigned a style\r\n  *  @access private\r\n  *  @return void\r\n\t*/\r\n  private giveElementsID(): void {\r\n    for (let i = 0; i < this._bgImages.length; i++) {\r\n      this._bgImages[i].setAttribute('id', 'background-image-swap-' + i);\r\n    }\r\n    this.parseElements();\r\n  }\r\n  /**\r\n\t *  @desc parseElements. Parses page elemetns with the class .background-image-swap\r\n   *   and puts their bg image paths and associated media queries into a array of objects\r\n   *   which are later iterated over for creating styles dynamically\r\n   *  @access private\r\n   *  @return void\r\n\t*/\r\n  private parseElements(): void {\r\n    for (let i = 0; i < this._bgImages.length; i++) {\r\n      if (this._bgImages[i].getAttribute('data-src-set') !== null) {\r\n        \r\n      let str = this._bgImages[i].getAttribute('data-src-set').trim(),\r\n          arr = str.split('|')\r\n          .map(x => {\r\n            return {['background-image-swap-' + i] : x.trim().split(',')}\r\n          });\r\n          this._selectors.push(arr);\r\n      }\r\n    }\r\n    this.createStyles();\r\n  }\r\n  /**\r\n\t*  @desc createStyles. Iterate over the selectors and create associated media query styles\r\n  *  @access private\r\n  *  @return void\r\n\t*/\r\n  private createStyles(): void {\r\n    for (let j = 0; j < this._selectors.length; j++) {\r\n      for (let i = 0 ; i < this._selectors[j].length; i++) {\r\n\r\n      let qselector = this._selectors[j][i]['background-image-swap-' + j][1],\r\n          query = '@media ' + qselector + '',\r\n          url = this._selectors[j][i]['background-image-swap-' + j][0],\r\n          rule = \"#background-image-swap-\" + j + \" { background-image:url(\" + url + \"); }\"\r\n\r\n      this._styles.sheet.insertRule( query + \" { \" + rule + \" } \", i);\r\n      }\r\n    }\r\n    // console.log(this._styles.sheet.rules);\r\n  }\r\n  /**\r\n\t*  @desc createStyleSheet. Creates a stylesheet for adding rules dynamically\r\n  *  @access private\r\n  *  @return string\r\n\t*/\r\n  private createStyleSheet(): void {\r\n    this._styles = document.createElement(\"style\");\r\n    this._styles.appendChild(document.createTextNode(\"\")); // WebKit hack\r\n\r\n    document.head.appendChild(this._styles);\r\n  }\r\n  /**\r\n\t*  @desc name. Returns the string name of this module. Used by Main.ts to process modules on page.\r\n  *  @access private\r\n  *  @return string\r\n\t*/\r\n  public name(): string {\r\n    return \"ADWBGImageSwap\";\r\n  }\r\n  /**\r\n\t*  @desc init. Invokes initial functions after this module has been instantiated.\r\n  *  @access private\r\n  *  @return Void\r\n\t*/\r\n  public init(): void {\r\n    this.createStyleSheet();\r\n    this.giveElementsID();\r\n\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// C:/xampp/htdocs/adw_fedev/node_modules/source-map-loader!./modules/ADWBGImageSwap.ts"],"sourceRoot":""}